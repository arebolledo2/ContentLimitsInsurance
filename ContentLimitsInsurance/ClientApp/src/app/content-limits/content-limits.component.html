<h1>Content Limits</h1>

<mat-list>
    <ng-container *ngFor="let category of filteredCategories">
        <mat-list-item><strong>{{category.name}}</strong></mat-list-item>
        <mat-list style="margin-left:30px;">
            <div *ngFor="let content of category.contents">
                <mat-list-item>
                    {{ content.name }}
                    ${{ content.value }}
                    <button type="button" (click)="deleteContent(content)" class="btn btn-i"><i class="bi bi-trash"></i></button>
                </mat-list-item>
            </div>
        </mat-list>
    </ng-container>
</mat-list>


<form [formGroup]="categoryForm" (ngSubmit)="addCategory(categoryForm)">
    <mat-form-field appearance="fill" [floatLabel]="always">
        <mat-label>Item Name</mat-label>
        <input matInput id="contentName" type="text" formControlName="contentName">
    </mat-form-field>

    <mat-form-field appearance="fill" [floatLabel]="always">
        <mat-label>Amount</mat-label>
        <input matInput id="contentValue" type="number" formControlName="contentValue" placeholder="0" class="right-align">
        <span matPrefix>$&nbsp;</span>
    </mat-form-field>

    <mat-form-field appearance="fill" [floatLabel]="always">
        <mat-label>Category</mat-label>
        <mat-select formControlName="contentCategory">
            <mat-option *ngFor="let category of categories" [value]="category">
                {{category.name}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <button class="btn btn-primary" type="submit">Add</button>
</form>

